<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="/">
      <img class="brand-mark" src="/static/Skoria_emblem.png" alt="Skoria emblem" />
      <span class="brand-text">Skoria</span>
    </a>
    <div class="nav">
      <details class="nav-dropdown" data-nav>
        <summary class="nav-link">Browse</summary>
        <div class="dropdown-panel">
          <button class="modal-close" onclick="document.querySelector('[data-nav]').open = false">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
          <div class="planes">
            {% for plane in navigation.planes %}
              <details open style="--nav-hue: {{ plane.hc0 }}; --nav-hue-2: {{ plane.hc1 }}; --nav-hue-3: {{ plane.hc2 }};">
                <summary>
                  <span class="summary-with-thumb">
                    <span class="thumb" style="background: hsl(var(--nav-hue-2), 35%, 18%);">
                      {% if plane.banner %}
                        <img src="{{ plane.banner }}" alt="" loading="lazy" />
                      {% else %}
                        <span class="placeholder"></span>
                      {% endif %}
                    </span>
                    {{ plane.title }}
                  </span>
                </summary>
                <div class="continents">
                  {% for continent in plane.continents %}
                    <details style="--nav-hue: {{ continent.hc0 }}; --nav-hue-2: {{ continent.hc1 }}; --nav-hue-3: {{ continent.hc2 }};">
                      <summary>
                        <span class="summary-with-thumb">
                          <span class="thumb" style="background: hsl(var(--nav-hue-2), 35%, 18%);">
                            {% if continent.banner %}
                              <img src="{{ continent.banner }}" alt="" loading="lazy" />
                            {% else %}
                              <span class="placeholder"></span>
                            {% endif %}
                          </span>
                          {{ continent.title }}
                        </span>
                      </summary>
                      <div class="types">
                        {% for bucket in continent.types %}
                          <div class="type">
                            <div class="type-name">{{ bucket.type }}</div>
                            <ul>
                              {% for item in bucket.items %}
                                <li>
                                  <a href="{{ item.path }}" style="--nav-hue-2: {{ item.hc1 or continent.hc1 or plane.hc1 }};">
                                    {% if item.banner %}
                                      <img src="{{ item.banner }}" alt="" loading="lazy" />
                                    {% else %}
                                      <span class="box" style="background: hsl(var(--nav-hue-2), 35%, 18%)"></span>
                                    {% endif %}
                                    <span>{{ item.title }}</span>
                                  </a>
                                </li>
                              {% endfor %}
                            </ul>
                          </div>
                        {% endfor %}
                      </div>
                    </details>
                  {% endfor %}
                </div>
              </details>
            {% endfor %}
          </div>
        </div>
      </details>

      {% include "components/search.njk" %}
    </div>
  </div>
</header>

